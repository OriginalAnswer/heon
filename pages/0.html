<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LEE JONGHEON</title>
        <link rel="stylesheet" href="../style.css">
        <link rel="stylesheet" href="../pages.css">
</head>
<body>
    <nav class="nav">
        <div class="navMain">
            <a href="../index.html">HOME</a>
            <a href="../works.html">WORK</a>
            <a href="../contact.html">CONTACT</a>
        </div>
    </nav>
    <header>
        <div class="header-container">
            <a href="../index.html" class="header-l">
                <span>HEON</span>
            </a>
            <input type="checkbox" name="" id="navCheckbox" class="dpnone">
            <div class="header-r">
                <label for="navCheckbox" id="navToggle" >
                    +
                </label>    
            </div>
        </div>
    </header>
    <main>
        <div class="worksNavBar">
            <a href="../works.html">Works</a>
            <span>></span>
            <span>Title</span>
        </div>
        <section class="sc-first sc">
            <p>
                Brand : BVLGRAI<br>
                DOP : Seok, Heeun<br>                  
                Camera : Canon R5, C200.<br>
            </p>
        </section>
        <section class="sc-slider sc">
            <div class="img-container" id="imgContainer">
            </div>
            <div class="ctrl-container">
                <div class="btn-move btn-move-prev">&#10094;</div>
                <div class="btn-move btn-move-c"></div>
                <div class="btn-move btn-move-next">&#10095;</div>
            </div>
        </section>
        <section class="slideDots"></section>
        <section class="sc-images sc"></section>
    </main>
<!-- JS -->
<script src="../navToggle.js"></script>
<script>
    const slideDB = [
        {num:"1", img : "https://cdn.myportfolio.com/39336d17-63cf-4d54-8cc4-5e93f4ae1698/fd956ade-1172-4737-b038-6e6e7fe9c898_carw_202x158x640.png?h=eb0780a66297ad6e9c6073316396cb2c"},
        {num:"2", img : "https://cdn.myportfolio.com/39336d17-63cf-4d54-8cc4-5e93f4ae1698/36816b8f-b1c3-45d2-b953-e91b9e2f0b50_carw_202x158x640.png?h=e7491ef09cb7f6681d4c0e7c117665e8"},
        {num:"3", img : "https://cdn.myportfolio.com/39336d17-63cf-4d54-8cc4-5e93f4ae1698/24ac2ed4-8c4f-45f2-a948-4cedca36cf84_carw_202x158x640.png?h=632f30354b342fada1415146cf12deae"}
    ]

    const imgContainer = document.querySelector('#imgContainer');
    const slideDots = document.querySelector('.slideDots');
    
    function setslideImg() {
        const slideImgHTML = slideDB.map(item => `
                <img src="${item.img}">
            `).join('');
        imgContainer.innerHTML = slideImgHTML;

        const dotsHTML = slideDB.map(item => `
            <div class="dot" data-num="${item.num}"></div>
        `).join('');
        slideDots.innerHTML = dotsHTML;
    }
    setslideImg();
// 슬라이더 컨트롤 -----------------------------------------------
    let slideStatu = 1;
    const totalSlides = slideDB.length;
    
    function updateDots() {
        const dots = document.querySelectorAll('.dot');
        dots.forEach(dot => dot.classList.remove('active'));
        dots[slideStatu - 1].classList.add('active');
    }

    function moveSlide(direction) {
        if (direction === 'next') {
            imgContainer.style.transform = `translateX(calc(-100% * ${slideStatu}))`;
            slideStatu = slideStatu + 1;
        } else if (direction === 'prev') {
            slideStatu = slideStatu - 1;
            imgContainer.style.transform = `translateX(calc(-100% * ${slideStatu - 1}))`;
        }
        updateDots();
    }

    function jumpToSlide(num) {
        slideStatu = parseInt(num);
        imgContainer.style.transform = `translateX(calc(-100% * ${slideStatu}))`;
        updateDots();
    }
    
    const prev = document.querySelector('.btn-move-prev');
    const next = document.querySelector('.btn-move-next');
    prev.addEventListener('click', () => moveSlide('prev'));
    next.addEventListener('click', () => moveSlide('next'));

    slideDots.addEventListener('click', (e) => {
        if (e.target.classList.contains('dot')) {
            jumpToSlide(e.target.getAttribute('data-num'));
        }
    });
updateDots();

    
</script>
</body>
</html>